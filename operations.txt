P0 send_message 1
P0 send_message 3
P1 receive_message
P1 send_message 2
P1 send_message 3
P2 receive_message
P2 send_message 3
P3 receive_message
P3 receive_message
P3 receive_message